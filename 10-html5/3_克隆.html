<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<script>


//    var person2 = person1;   栈内存  一变都变  对象和数组都不可以这样赋值

/*
     var person1 = {
         name:"zhangsan",
         age:20
     };
    var person2 = {};
    for(key in person1){
        person2[key] = person1[key];
    }
    console.log(person2);


     person2.name = "lisi";
     console.log(person1.name,person2.name); //zhangsan lisi


    person1.name = "lisi";
    console.log(person1.name,person2.name);  //lisi  zhangsan
 */



    function clone(obj){//深克隆
        var resObj = {};
/*
        for(key in obj) {
            resObj[key] = obj[key];
        }

         var person2 = clone(person1);
         person1.father.name = 'zxx';
         console.log(person2.father.name);  //zxx  出问题了  浅克隆
*/

        for( key in obj){
            if(obj[key] instanceof Object){
                resObj[key] = clone(obj[key]);  //还是对象 继续递归
            }else{
                resObj[key] = obj[key];
            }
        }
        return resObj;
    }
    var person1 = {
        name:"zhangsan",
        age:20,
        father:{
            name:"zz"
        }
    };
    var person3 = clone(person1);
    person1.father.name = 'zxx';
    console.log(person3.father.name);//zz  深克隆



//深克隆
var str = JSON.stringify(person1); //字符串
    var person4 = JSON.parse(str);//对象
    console.log(person4.father.name)






</script>

</body>
</html>